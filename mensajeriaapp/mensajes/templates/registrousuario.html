{% extends 'base.html' %} 
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/estiloinicio.css' %}" >
<section class="d-flex justify-content-center align-items-center">
    <div class="card shadow col-xs-12 col-sm-6 col-md-6 col-lg-3   p-4"> 
        <div class="mb-4 d-flex justify-content-start align-items-center">
          
            <h4>  <i class="bi bi-chat-left-quote"></i> &nbsp; Datos del Registro</h4>
            
        </div>
        <div class="h4 pb-2 mb-4 text-danger border-bottom border-danger"></div>
        <div class="mb-1">
            <form id = "contacto"  action="{% url 'mensajes:registro_usuario' %}" method="post">
                {% csrf_token %}
                <div class="datospersonales">
                    <div class="cuadrodatos">
                        <label for="nombre" class="textotitulo"> <i class="bi bi-person-fill"></i> Nombre</label>
                        <div class="input-group mb-3">
                            
                            <input type="text" class="form-control" name="nombre" id="nombre" placeholder= "ej: Gabriel" required>
                            <div class="nombre text-danger "></div>
                        </div>
                    </div>
                    <div class="cuadrodatos">
                        <label for="apellido" class="textotitulo"> <i class="bi bi-person-bounding-box"></i> Apellido</label>
                        <div class="input-group mb-3">
                            
                            <input type="text" class="form-control" name="apellido" id="apellido" placeholder= "ej: Pacheco" required>
                            <div class="apellido text-danger"></div>
                        </div>
                    </div>
                    <div class="mb-4 d-flex justify-content-between"> 
                        <div>
                            <label for="nacimiento"> <i class="bi bi-person-fill"></i> Fecha Nacimiento</label>
                            <input type="date" class="form-control" name="nacimiento" id="nacimiento" required>
                            <div class="nombre text-danger "></div>
                        </div>
                        

                        <div class="sexo">
                            <div class="mb-4">
                                <label for="sexo"><i class="bi bi-gender-ambiguous"></i> Sexo: </label>
                                <input type="radio" class="form-check-input"  name="sexo" id="sexo" value="masculino" required> Masculino
                                <input type="radio" class="form-check-input" name="sexo" id="sexo" value="femenino" required> Femenino
                                <div class="sexo text-danger"></div>
                            </div>  
                        </div>
                        

                        <div class="apellido text-danger"></div>
                    
                    </div>
                </div>


                

                <div class="cuadrodatos">
                    <label for="user" class="textotitulo"> Nombre de Usuario:</label>
                    <div class="input-group mb-3">
                        
                        <span class="input-group-text" id="basic-addon1">@</span>
                        <input type="text" class="form-control" name="user" id="user" placeholder="Username" aria-label="Username" 
                                onblur="comprobarnombre()"
                                aria-describedby="basic-addon1" required>
                    </div>
                    {% if errorusuario %}  
                        <p class="text-decoration-none text-danger fw-semibold fst-italic" style="font-size: 0.9rem; "
                            id="mensajeuser"
                            > {{ mensajeusuarioexiste }}
                        </p>
                    {% else %}  
                        <p class="text-decoration-none text-danger fw-semibold fst-italic" style="font-size: 0.9rem; display: none "
                        id="mensajeuserfijo"
                        > Existe
                        </p>
                    {% endif %}
                </div>
                    
                <div class="cuadrodatos">
                    <label for="correo"><i class="bi bi-envelope-fill"></i> Correo</label>
                    <div class="input-group mb-3">
                        
                        <input type="email" class="form-control" name="correo" id="correo" placeholder= "ej: gpmcheco@mail.com" required>
                        <div class="correo text-danger"></div>
                    </div>
                </div>
                <div class="h4 pb-2 mb-4 text-danger border-bottom border-danger"></div>
                <div class="mb-4 d-flex justify-content-between"> 
                    <div>
                        <label for="contrasena1"> <i class="bi bi-person-fill"></i> Ingrese Contraseña</label>
                        <input type="password" class="form-control" name="contrasena1" id="contrasena1" 
                                onblur="comprobarcontrasena()"
                                required>
                        <div class="nombre text-danger "></div>
                    </div>
                    <div >
                        <label for="contrasena2"> <i class="bi bi-person-bounding-box"></i> Repita Contraseña</label>
                        <input type="password" class="form-control" name="contrasena2" id="contrasena2"  
                                onblur="comprobarcontrasena()"
                                required>
                        <div class="apellido text-danger"></div>
                    </div>
                    
                </div>
                {% if errorcontrasena %}  
                    <p class="text-decoration-none text-danger fw-semibold fst-italic" style="font-size: 0.9rem; "
                        > {{ mensajecontrasena }}
                    </p>
                {% else %}    
                    <p class="text-decoration-none text-danger fw-semibold fst-italic" style="font-size: 0.9rem; display: none"
                        id="mensajecontrasena"
                        > Las contraseñas no coinciden!
                    </p>
                {% endif %}
                
                 
                
                <div class="h4 pb-2 mb-4 text-danger border-bottom border-danger"></div>
                <div class="mb-2">
            
                    <button id ="botton" class="btn btn-info text-white w-100 mt-0 fw-semibold shadow-sm">
                        <span>Registrarse </span><i id="icono" class="bi bi-cursor-fill "></i>
                        
                    </button>
                </div> 
                
            </form>
        </div>
    </div>
</section>
<script  type="module" src='{% static "js\validaciones.js" %}'></script>
<script>
    function comprobarcontrasena(){

        let elementomensajeconra=document.getElementById('mensajecontrasena');
        let contra1=document.getElementById('contrasena1').value;
        let contra2=document.getElementById('contrasena2').value;
        if (contra1 !==contra2){
            elementomensajeconra.style.display ="inline-block"
        } else{
            elementomensajeconra.style.display ="none"
        }
    }
</script>
{% endblock %}